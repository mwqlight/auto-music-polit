<script setup lang="ts">
import { onMounted } from 'vue'
import MusicList from '@/components/audio/MusicList.vue'
import MusicDetail from '@/components/audio/MusicDetail.vue'
import AudioPlayer from '@/components/audio/AudioPlayer.vue'

// åˆ›å»ºç²’å­æ•ˆæœ
const createParticles = () => {
  const particlesBg = document.querySelector('.particles-bg') as HTMLElement
  if (!particlesBg) return
  
  const particleCount = 100
  for (let i = 0; i < particleCount; i++) {
    const particle = document.createElement('div')
    particle.className = 'particle'
    particle.style.left = Math.random() * 100 + '%'
    particle.style.animationDelay = Math.random() * 10 + 's'
    particle.style.animationDuration = (Math.random() * 10 + 10) + 's'
    particlesBg.appendChild(particle)
  }
}

onMounted(() => {
  createParticles()
})
</script>

<template>
  <div class="home">
    <!-- ç²’å­æ•ˆæœèƒŒæ™¯ -->
    <div class="particles-bg"></div>
    
    <header class="header">
      <h1 class="high-tech-title">æ˜ŸéŸµéŸ³åŸŸ - éŸ³ä¹æ™ºèƒ½é©¾é©¶èˆ±</h1>
      <p class="high-tech-subtitle">æ¬¢è¿æ¥åˆ°æ‚¨çš„ä¸ªäººéŸ³ä¹å®‡å®™</p>
    </header>
    
    <!-- æ ¸å¿ƒåŠŸèƒ½æŒ‰é’®åŒºåŸŸ -->
    <section class="feature-buttons">
      <div class="button-grid">
        <button class="high-tech-button" @click="$router.push('/music-library')">
          ğŸµ éŸ³ä¹åº“
        </button>
        <button class="high-tech-button" @click="$router.push('/ai-music')">
          ğŸ¤– AIéŸ³ä¹ç”Ÿæˆ
        </button>
        <button class="high-tech-button" @click="$router.push('/playlists')">
          ğŸ“‹ æ’­æ”¾åˆ—è¡¨
        </button>
        <button class="high-tech-button" @click="$router.push('/favorites')">
          â¤ï¸ æˆ‘çš„æ”¶è—
        </button>
        <button class="high-tech-button" @click="$router.push('/music-crawler')">
          ğŸ•·ï¸ éŸ³ä¹æºçˆ¬å–
        </button>
        <button class="high-tech-button" @click="$router.push('/recommendations')">
          ğŸ” æ™ºèƒ½æ¨è
        </button>
      </div>
    </section>
    
    <main class="main-content">
      <div class="content-wrapper">
        <div class="high-tech-card">
          <h2 class="card-title">çƒ­é—¨éŸ³ä¹</h2>
          <MusicList />
        </div>
        <div class="high-tech-card">
          <h2 class="card-title">éŸ³ä¹è¯¦æƒ…</h2>
          <MusicDetail />
        </div>
      </div>
      <AudioPlayer />
    </main>
  </div>
</template>

<style scoped>
.home {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
  position: relative;
}

.header {
  text-align: center;
  margin-bottom: 50px;
  padding: 40px 20px;
}

.feature-buttons {
  margin-bottom: 50px;
}

.button-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.main-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.content-wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.card-title {
  font-family: 'Orbitron', sans-serif;
  font-size: 24px;
  font-weight: 700;
  color: #00ffff;
  margin-bottom: 20px;
  text-align: center;
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

@media (max-width: 768px) {
  .content-wrapper {
    grid-template-columns: 1fr;
  }
  
  .button-grid {
    grid-template-columns: 1fr;
  }
}
</style>